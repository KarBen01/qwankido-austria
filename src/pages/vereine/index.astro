---
import Layout from '../../layouts/Layout.astro';
import {CLUBS} from '../../data/siteData.js';
import {MapPin, Clock, Users, Euro, ArrowRight, ExternalLink} from 'lucide-react';
---

<Layout title="Vereine">
    <div class="bg-slate-50 min-h-screen pb-20">
        <div class="max-w-6xl mx-auto px-4 pt-12">
            <div class="text-center mb-12">
                <h1 class="text-4xl font-black text-slate-900 mb-4">Trainingsorte</h1>
                <p class="text-slate-600">Finde den passenden Verein in deiner Nähe.</p>
            </div>

            <div class="grid md:grid-cols-2 xl:grid-cols-3 gap-4 sm:gap-6">
                {CLUBS.map(club => {
                    const linkTarget = club.externalLink ? "_blank" : "_self";
                    const linkHref = club.externalLink ? club.externalLink : `/vereine/${club.id}`;

                    return (
                            <a href={linkHref} target={linkTarget}
                               class="bg-white rounded-xl border border-slate-200 overflow-hidden hover:shadow-xl hover:-translate-y-1 transition duration-300 flex flex-col group h-full cursor-pointer block">
                                {/* Image Header */}
                                <div class="h-44 sm:h-48 bg-slate-200 relative overflow-hidden flex-shrink-0">
                                    <img
                                            src={club.image}
                                            class="w-full h-full object-cover"
                                            alt={club.name}
                                    />
                                    <div class="absolute top-4 right-4 bg-white/90 backdrop-blur px-3 py-1 rounded-full text-xs font-bold shadow-sm z-10">
                                        {club.district}
                                    </div>
                                    <div class="absolute inset-0 bg-gradient-to-t from-black/70 to-transparent opacity-80"></div>
                                    <div class="absolute bottom-4 left-4 text-white">
                                        <h3 class="text-xl font-bold mb-0.5">{club.name}</h3>
                                        <p class="text-white/90 text-xs flex items-center gap-1">
                                            <MapPin size={10}/>
                                            {club.address}</p>
                                    </div>
                                </div>

                                <div class="p-5 flex-grow flex flex-col">
                                    <div class="space-y-3 mb-6">
                                        <div class="flex items-center gap-3 text-sm">
                                            <Clock class="text-slate-400" size={18}/>
                                            <span class="font-semibold text-slate-700">{club.daysSummary}</span>
                                        </div>
                                        <div class="flex items-center gap-3 text-sm">
                                            <Users class="text-slate-400" size={18}/>
                                            <span class="text-slate-600">{club.audience}</span>
                                        </div>
                                        {/* Preis nur anzeigen, wenn verfügbar */}
                                        {club.price && (
                                                <div class="flex items-center gap-3 text-sm">
                                                    <Euro class="text-slate-400" size={18}/>
                                                    <span class="text-slate-600">{club.price}</span>
                                                </div>
                                        )}
                                    </div>

                                    <div class="mt-auto w-full bg-slate-50 text-slate-800 border border-slate-200 py-3 rounded-lg font-bold group-hover:bg-slate-900 group-hover:text-white group-hover:border-slate-900 transition flex items-center justify-center gap-2 text-sm">
                                        {club.externalLink ? (
                                                <>Zur Website
                                                    <ExternalLink size={16}/>
                                                </>
                                        ) : (
                                                <>Details & Stundenplan
                                                    <ArrowRight size={16}/>
                                                </>
                                        )}
                                    </div>
                                </div>
                            </a>
                    )
                })}
            </div>
        </div>
    </div>
</Layout>